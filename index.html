<html lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>items select</title>
    <script type="text/javascript" src="./d3.js"></script>
    <style type="text/css"></style>
    </head>
    <body>
    <script type="text/javascript">
        var dataset;
        d3.csv("data_basics.csv").then(function(data){
            dataset = data;
            let center_button = false;
            var svg = d3.select("body").append("svg")
                        .attr("width","100%")
                        .attr("height","100%");
            
            var circle1 = svg.selectAll("circle1")
                            .data(dataset)
                            .enter()
                            .append("circle");
            
            circle1.attr("cx",1000)
                    .attr("cy",500)
                    .attr("r",0)
                    .attr("fill","black")
                    .attr("stroke","black")
                    .attr("opacity",0)
                    .on("mouseover",function(d){
                        d3.select(this).attr("fill","green")
                                        .attr("stroke","green")
                                        .transition().duration(100)
                                        .attr("r",function(d){
                                            return d.value*1.5
                                        });
                    })
                    .on("mouseout",function(d){
                        d3.select(this).attr("fill","black")
                                        .attr("strole","black")
                                        .transition().duration(100)
                                        .attr("r",function(d){
                                            return d.value
                                        })
                    })

            /*circle1.attr("cx",function(d,i){
                        return 1000+350*Math.cos(2*Math.PI*i/10)})
                    .attr("cy",function(d,i){
                        return 500+350*Math.sin(2*Math.PI*i/10)})
                    .attr("r",function(d) {return d.value})
                    .attr("fill","black")
                    .attr("stroke","black")
                    .on("mouseover",function(d){
                        d3.select(this).attr("fill","green")
                                        .attr("stroke","green")
                                        .transition().duration(100)
                                        .attr("r",function(d){
                                            return d.value*1.5
                                        });
                    })
                    .on("mouseout",function(d){
                        d3.select(this).attr("fill","black")
                                        .attr("strole","black")
                                        .transition().duration(100)
                                        .attr("r",function(d){
                                            return d.value
                                        })
                    })*/
            
            data2 = [10]
            var circle2 = svg.selectAll("circle2")
                            .data(data2)
                            .enter()
                            .append("circle")
                            .attr("cx",1000)
                            .attr("cy",500)
                            .attr("r",200)
                            .attr("fill","black")
                            .attr("stroke","rgb(30,215,96)")
                            /*on("mouseover",function(){
                                circle2.attr("fill","orange")
                                                .attr("stroke","rgb(30,215,96)")
                            })
                            .on("mouseout",function(){
                                d3.select(this).attr("fill","black")
                                                .attr("stroke","rgb(30,215,96)")
                            })*/
            
            var defs = svg.append('defs');
            var circles = defs
                            .append('circle')
                            .attr('id', 'circle')
                            .attr('r', 200)
                            .attr('cx', 1000)
                            .attr('cy',500);
        
            defs.append('clipPath')
                .attr('id', 'clip')
                .append('use')
                .attr('xlink:href', '#circle')


            var images = svg
                .append('image')
                .attr('xlink:href', 'Spotify_Icon_RGB_Green.png')
                .attr('width', 1000)
                .attr('height', 500)
                .attr('clip-path', 'url(#clip)')
                .attr('x', 500)
                .attr('y', 250)
                .on("click",function(){
                    center_button = !center_button
                    if(center_button){
                        circle1.transition()
                        .attr("cx",function(d,i){
                            return 1000+350*Math.cos(2*Math.PI*i/10)})
                        .attr("cy",function(d,i){
                            return 500+350*Math.sin(2*Math.PI*i/10)})
                        .attr("r",function(d) {return d.value})
                        .attr("opacity",1)
                    }
                    else{
                        circle1.transition()
                        .attr("cx",1000)
                        .attr("cy",500)
                        .attr("opacity",0)
                    }
                })
                .on("mouseover",function(){
                    circle2.attr("fill","orange")
                            .attr("stroke","rgb(30,215,96)")
                })
                .on("mouseout",function(){
                    circle2.attr("fill","black")
                            .attr("stroke","rgb(30,215,96)")
                })
        })
    </script>
    </body>
</html>